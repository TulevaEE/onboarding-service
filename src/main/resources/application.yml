server:
  port: 9000
  error:
    whitelabel.enabled: false
    include-exception: true
  tomcat:
    remote-ip-header: x-forwarded-for
    protocol-header: x-forwarded-proto
  servlet:
    session:
      timeout: 3600

spring:
  application:
    name: 'Onboarding Service'
  datasource:
    platform: POSTGRESQL
    url: jdbc:postgresql://localhost:5432/tuleva-onboarding
    username: tuleva-onboarding
    password: tuleva-onboarding
    continue-on-error: false
    test-on-borrow: true
    test-while-idle: true
    driver-class-name: org.postgresql.Driver
    initialization-mode: never # set to always when starting with a clean DB
  jpa:
    database-platform: org.hibernate.dialect.PostgreSQLDialect
    show-sql: false
    hibernate:
      ddl-auto: none
  mvc:
    throw-exception-if-no-handler-found: true
  cache:
    type: ehcache
  security:
    user:
      name: service
      password: Kalamaja123
  boot:
    admin:
      client:
        enabled: false
        username: admin
        password: Kalamaja123
        url: http://localhost:8081
        instance:
          metadata:
            user.name: ${spring.security.user.name}
            user.password: ${spring.security.user.password}

management:
  endpoints:
    web:
      exposure:
        include: '*'

ssl:
  trustAllHTTPSHosts: true

digidoc:
  service:
    url: https://tsp.demo.sk.ee/

mobile-id:
  service:
    name: "Testimine"

truststore:
  path: "test_keys/truststore.jks"

mandate:
  email:
    from: "tuleva@tuleva.ee"
    bcc: "avaldused@tuleva.ee"

proxy:
  url: ${QUOTAGUARDSTATIC_URL}
  nonProxyHosts: "mandrillapp.com|sk.ee|sentry.io|localhost"

maksekeskus:
  secret: IEmvmvjuuAc4XJWyD48LjdXnRej77JkSq72QAeDQYQgt2nY25tsjhdFg9ZA99lQf

epis:
  service:
    url: http://localhost:9005/v1
    bic: "LCDELV22XXX"

membership-success:
  url: http://localhost:8000/membership-success/

frontend:
  url: http://localhost:3000/

pensionikeskus:
  statistics:
    endpoint:
      url: https://public.pensionikeskus.ee/public/corporate/pensionFundStatistics.jsp

mailchimp:
  api:
    key: someKey
  list:
    id: someId

smartid:
  relyingPartyUUID: ${SMARTID_RELYING_PARTY_UUID:00000000-0000-0000-0000-000000000000}
  relyingPartyName: 'DEMO'
  hostUrl: 'https://sid.demo.sk.ee/smart-id-rp/v1/'

# uncomment when starting with a clean DB
#flyway:
#  baseline-on-migrate: true
logging:
  level:
    ee:
      sk:
        smartid: DEBUG
---

spring:
  profiles: production
  datasource:
    url: ${JDBC_DATABASE_URL}
    username: ${JDBC_DATABASE_USERNAME}
    password: ${JDBC_DATABASE_PASSWORD}
    tomcat:
      max-active: 60
    initialization-mode: never

  flyway:
    baseline-on-migrate: false
  boot:
    admin:
      client:
        enabled: true
        url: 'https://admin.producement.com'

server:
  servlet:
    session.cookie.domain: tuleva.ee # for session sharing across sub-domains
  port: 5000

ssl:
  keystore: /tmp/keystore.p12
  keystore.password: ${SSL_KEYSTORE_PASSWORD}

proxy:
  url: ${QUOTAGUARDSTATIC_URL}
  nonProxyHosts: "mandrillapp.com|sentry.io|localhost"

mobile-id:
  service:
    name: "Tuleva"

truststore:
  path: "/tmp/truststore.jks"

digidoc:
  service:
    url: https://digidocservice.sk.ee/

id-card:
  secret:
    token: ${ID_CARD_SECRET_HEADER_TOKEN}

mandrill:
  key: ${MANDRILL_KEY}

maksekeskus:
  secret: ${MAKSEKESKUS_SECRET}

epis:
  service:
    url: https://epis-service.tuleva.ee/v1
    bic: "LCDELV22XXX"

membership-success:
  url: https://tuleva.ee/membership-success/

frontend:
  url: https://pension.tuleva.ee/

mailchimp:
  api:
    key: ${MAILCHIMP_API_KEY}
  list:
    id: ${MAILCHIMP_LIST_ID}
