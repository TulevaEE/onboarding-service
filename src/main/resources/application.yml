server:
  port: 9000
  error:
    whitelabel.enabled: false
    include-exception: true
  tomcat:
    remote-ip-header: x-forwarded-for
    protocol-header: x-forwarded-proto
  servlet:
    session:
      timeout: 3600

spring:
  application:
    name: 'Onboarding Service'
  datasource:
    platform: POSTGRESQL
    url: jdbc:postgresql://localhost:5432/tuleva-onboarding
    username: tuleva-onboarding
    password: tuleva-onboarding
    continue-on-error: false
    driver-class-name: org.postgresql.Driver
  jpa:
    database-platform: org.hibernate.dialect.PostgreSQL95Dialect
    show-sql: false
    hibernate:
      ddl-auto: none
    properties:
      hibernate:
        jdbc.lob.non_contextual_creation: true
  mvc:
    throw-exception-if-no-handler-found: true
  cache:
    type: ehcache
  security:
    user:
      name: service
      password: Kalamaja123
  boot:
    admin:
      client:
        enabled: false
        username: admin
        password: Kalamaja123
        url: http://localhost:8081
        instance:
          metadata:
            user.name: ${spring.security.user.name}
            user.password: ${spring.security.user.password}

management:
  endpoints:
    web:
      exposure:
        include: '*'

ssl:
  trustAllHTTPSHosts: true

digidoc:
  service:
    url: https://tsp.demo.sk.ee/

mobile-id:
  hostUrl: 'https://tsp.demo.sk.ee/mid-api'
  pollingSleepTimeoutSeconds: 2
  longPollingTimeoutSeconds: 60
  service:
    name: "Testimine"

truststore:
  path: "test_keys/truststore.jks"

mandate:
  email:
    from: "tuleva@tuleva.ee"
    bcc: "avaldused@tuleva.ee"

maksekeskus:
  secret: IEmvmvjuuAc4XJWyD48LjdXnRej77JkSq72QAeDQYQgt2nY25tsjhdFg9ZA99lQf

epis:
  service:
    url: http://localhost:9005/v1
    bic: "LCDELV22XXX"
    client:
      id: epis-service
      client-id: onboarding-service
      client-secret: "OnboardingServiceSecret"
      access-token-uri: http://localhost:9000/oauth/token

membership-success:
  url: http://localhost:8000/membership-success/

frontend:
  url: http://localhost:3000/

pensionikeskus:
  statistics:
    2ndpillar:
      url: https://public.pensionikeskus.ee/public/corporate/pensionFundStatistics.jsp
    3rdpillar:
      url: https://public.pensionikeskus.ee/public/corporate/pensionFundStatistics_3.jsp

mailchimp:
  api:
    key: someKey
  list:
    id: someId

smartid:
  relyingPartyUUID: ${SMARTID_RELYING_PARTY_UUID:00000000-0000-0000-0000-000000000000}
  relyingPartyName: ${SMARTID_RELYING_PARTY_NAME:Demo}
  hostUrl: 'https://sid.demo.sk.ee/smart-id-rp/v1/'

logging:
  level:
    ee:
      sk:
        smartid: DEBUG
        mid:
          rest:
            MidLoggingFilter: TRACE
      tuleva:
        onboarding:
          comparisons:
            fundvalue:
              retrieval:
                globalstock: DEBUG

morningstar:
  host: ${MORNINGSTAR_HOST:localhost}
  port: 21
  username: ${MORNINGSTAR_USERNAME:someUser}
  password: ${MORNINGSTAR_PASSWORD:somePassword}

---

spring:
  profiles: dev, test
  flyway:
    locations: classpath:/db/migration, classpath:/db/dev
---

spring:
  profiles: production
  datasource:
    url: ${JDBC_DATABASE_URL}
    username: ${JDBC_DATABASE_USERNAME}
    password: ${JDBC_DATABASE_PASSWORD}
    tomcat:
      max-active: 60
    initialization-mode: never

  flyway:
    baseline-on-migrate: false
  boot:
    admin:
      client:
        enabled: true
        url: 'https://admin.producement.com'

server:
  servlet:
    session.cookie.domain: tuleva.ee # for session sharing across sub-domains
  port: 5000

ssl:
  keystore: /home/webapp/keystore.p12
  keystore.password: ${SSL_KEYSTORE_PASSWORD}

mobile-id:
  hostUrl: "https://mid.sk.ee/mid-api"
  service:
    name: "Tuleva"

truststore:
  path: "/home/webapp/truststore.jks"

digidoc:
  service:
    url: https://digidocservice.sk.ee/

mandrill:
  key: ${MANDRILL_KEY}

maksekeskus:
  secret: ${MAKSEKESKUS_SECRET}

epis:
  service:
    url: https://epis-service.tuleva.ee/v1
    bic: "LCDELV22XXX"
    client:
      id: epis-service
      client-id: onboarding-service
      client-secret: ${CLIENT_SECRET}
      access-token-uri: ${ACCESS_TOKEN_URI}

membership-success:
  url: https://tuleva.ee/membership-success/

frontend:
  url: https://pension.tuleva.ee/

mailchimp:
  api:
    key: ${MAILCHIMP_API_KEY}
  list:
    id: ${MAILCHIMP_LIST_ID}

morningstar:
  host: ftp.morningstar.com
  port: 21
  username: ${MORNINGSTAR_USERNAME}
  password: ${MORNINGSTAR_PASSWORD}
